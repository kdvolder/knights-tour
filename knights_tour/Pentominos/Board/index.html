<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Board (knights_tour.Pentominos.Board)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">knights_tour</a> &#x00BB; <a href="../index.html">Pentominos</a> &#x00BB; Board</nav><header class="odoc-preamble"><h1>Module <code><span>Pentominos.Board</span></code></h1><p>A Polyomino board is a grid of squares that need to be covered by Polyomino puzzle pieces. It is possible for some parts of the grid to be blocked off.</p><p>For example in the classical Pentomino puzzle, the board is an <code>8x8</code> chessboard, with a <code>2x2</code> grid at the center of the board blocked of. This leaves <code>8x8-2x2 = 64 - 4 = 60</code> squares to be filled. The 60 remaining squares need to be covered up by fitting all of the 12 pentomino shapes, which are 5 squares each.</p><p>The Board.t data structure keeps track of the current state of the board. This means that it provides a way to:</p><ul><li>determine which squares are still vacant</li><li>for occupied squares, determine which puzzle piece has been placed to cover that square.</li><li>count the number of vacant spots (to determine if the puzzle is solved)</li></ul></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-square" class="anchored"><a href="#type-square" class="anchor"></a><code><span><span class="keyword">type</span> square</span><span> = </span></code><table><tr id="type-square.Occupied" class="anchored"><td class="def variant constructor"><a href="#type-square.Occupied" class="anchor"></a><code><span>| </span><span><span class="constructor">Occupied</span> <span class="keyword">of</span> <a href="../Polyomino/index.html#type-t">Polyomino.t</a></span></code></td></tr><tr id="type-square.Vacant" class="anchored"><td class="def variant constructor"><a href="#type-square.Vacant" class="anchor"></a><code><span>| </span><span><span class="constructor">Vacant</span></span></code></td></tr><tr id="type-square.Blocked" class="anchored"><td class="def variant constructor"><a href="#type-square.Blocked" class="anchor"></a><code><span>| </span><span><span class="constructor">Blocked</span></span></code></td></tr></table></div><div class="spec-doc"><p>A value of type <code>square</code> indicates the state of a square at a given board <code>{x;y}</code> coordinate.</p><p>A square can be in either one of the following states:</p><ul><li><code>Blocked</code>: a square that is not meant to be covered. Either the square is not within the bounds of the board, or it is one of the squares on the board that are blocked from the start. (e.g. the 4 center squares in the classic board)</li><li><code>Occupied</code>: a polyomino was placed on the board and it covers the square.</li><li><code>Vacant</code>: no polymino has been placed that covers the square yet.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_size" class="anchored"><a href="#val-draw_size" class="anchor"></a><code><span><span class="keyword">val</span> draw_size : int</span></code></div><div class="spec-doc"><p>A constant to gives the size in pixels of a polyomino square.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init_graphics" class="anchored"><a href="#val-init_graphics" class="anchor"></a><code><span><span class="keyword">val</span> init_graphics : <span><a href="../../Knights_tour/Point/index.html#type-t">Knights_tour.Point.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Initialize the graphic module to draw boards in a window on the screen. This function should only be called once, and should be called before drawing the first board on the screen. It requires the dimensions of the board as an input parameter (needed to open a window of the appropriate size)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-size" class="anchored"><a href="#val-size" class="anchor"></a><code><span><span class="keyword">val</span> size : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Knights_tour/Point/index.html#type-t">Knights_tour.Point.t</a></span></code></div><div class="spec-doc"><p>Each board has a size consisting of a width and height. All non-blocked board coordinates are contained within the range <code>0..width</code> for the <code>x</code> coordinate and <code>0..height</code> for the <code>y</code> coordinate.</p><p>This function returns the size of the board as a point <code>{x=width;y=height}</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Knights_tour/Point/index.html#type-t">Knights_tour.Point.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-square">square</a></span></code></div><div class="spec-doc"><p>Get the state of a square at a given <code>{x;y}</code> coordinate.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Initialize a Polyomino board starting state from a 'string image'. The string image represents the vacant squares by <code>`#`</code> characters and any other sqaures by '.'. Note that the dimensions of the board are implied. So for example the classic pentomino board is initialized like so:</p><pre><code>let classic_board = Board.of_string &quot;
  ########
  ########
  ########
  ###..###
  ###..###
  ########
  ########
  ########
&quot;</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-load_string" class="anchored"><a href="#val-load_string" class="anchor"></a><code><span><span class="keyword">val</span> load_string : <span><span>( <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-square">square</a> )</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Loads a board from a string image. This requires a function that interprets the characters of the string, mapping each char to <code>square</code> state</p></div></div><div class="odoc-spec"><div class="spec value" id="val-classic" class="anchored"><a href="#val-classic" class="anchor"></a><code><span><span class="keyword">val</span> classic : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Classic Pentomino board. A chess board with the 4 center squares blocked off.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rectangle" class="anchored"><a href="#val-rectangle" class="anchor"></a><code><span><span class="keyword">val</span> rectangle : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rectangle w h</code> creates a plain rectangular board of given dimensions. All squares in this board are vacant (so there are no blocked areas inside the rectangle)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-put" class="anchored"><a href="#val-put" class="anchor"></a><code><span><span class="keyword">val</span> put : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../PointSet/index.html#type-t">PointSet.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Polyomino/index.html#type-t">Polyomino.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Place a polyomino on the board. It is assumed that the given PointSet is a rotated / mirrored / translated variant of the given Polyomino.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-vacant" class="anchored"><a href="#val-vacant" class="anchor"></a><code><span><span class="keyword">val</span> vacant : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../PointSet/index.html#type-t">PointSet.t</a></span></code></div><div class="spec-doc"><p>Gets all vacant points on the board (i.e. any point that is not occupied and is not blocked)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert board into a two-dimensional 'string image'. Each square on the board is represented by a single character:</p><ul><li>`.`: a vacant square</li><li>a capital letter: square occupied by polyomino with that name</li><li>#: a blocked square</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-draw" class="anchored"><a href="#val-draw" class="anchor"></a><code><span><span class="keyword">val</span> draw : <span>?black_and_white:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Draw the board using the <code>graphics</code> library</p></div></div></div></body></html>